"use strict";(self["webpackChunkmanga_js"]=self["webpackChunkmanga_js"]||[]).push([[431],{5431:function(a,n,e){e.r(n),e.d(n,{default:function(){return b}});var t=e(3396);const o={class:"single-manga"},l=(0,t._)("h1",null,"Search Result",-1),i={key:0,class:"loading"},d={id:"aManga"};function r(a,n,e,r,s,g){const u=(0,t.up)("MangaList");return(0,t.wg)(),(0,t.iD)("div",o,[l,a.isLoading?((0,t.wg)(),(0,t.iD)("div",i,"Loading manga...")):(0,t.kq)("",!0),(0,t._)("div",d,[(0,t._)("div",null,[(0,t.Wm)(u,{manga:a.manga},null,8,["manga"])])])])}var s=e(1020),g=e(1231),u=e(2483),m=e(8043),c=(0,t.aZ)({components:{MangaList:m.Z},setup(){const a=(0,g.b)(),{mangas:n,manga:e,isLoading:o}=(0,s.Jk)(a),l=(0,u.yj)(),i=l.params.id;return console.log(i,e.value,"123"),(0,t.bv)((async()=>{try{await a.getMangas(),await a.getManga(i)}catch(n){console.error("Error fetching manga:",n)}})),{manga:e,isLoading:o}}}),p=e(89);const h=(0,p.Z)(c,[["render",r]]);var b=h},8043:function(a,n,e){e.d(n,{Z:function(){return D}});var t=e(3396),o=e(7139);const l={class:"manga"},i={class:"manga-details"},d={id:"manga-author"},r={class:"manga-ep"},s=(0,t._)("span",null,"Episodes:  ",-1),g={id:"manga-update"},u={id:"manga-note"},m=(0,t._)("span",null,"Note: ",-1),c={class:"icons"},p={key:0,class:"edit-form"};function h(a,n,e,h,b,w){const v=(0,t.up)("MangaEditForm");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("h3",{ref:"m-title"},(0,o.zw)(e.manga.title),513),(0,t._)("div",i,[(0,t._)("p",d,(0,o.zw)(e.manga.author),1),(0,t._)("div",r,[s,(0,t._)("p",null,(0,o.zw)(e.manga.own)+"  ",1)]),(0,t._)("p",g,(0,o.zw)(h.update),1),(0,t._)("p",u,[m,(0,t.Uk)((0,o.zw)(e.manga.note?e.manga.note:"none"),1)])]),(0,t._)("div",c,[(0,t._)("div",{class:"edit material-icons",onClick:n[0]||(n[0]=(...a)=>h.handleEdit&&h.handleEdit(...a))},"edit"),(0,t._)("div",{class:"delete material-icons",onClick:n[1]||(n[1]=(...a)=>h.deleteManga&&h.deleteManga(...a))},"delete")]),h.isEditting?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(v,{manga:e.manga,onCloseForm:h.handleCloseForm},null,8,["manga","onCloseForm"])])):(0,t.kq)("",!0)])}var b=e(4870),w=e(1231),v=e(9242);const _={class:"manga-edit-form"},M={for:"title"},f={for:"author"},k={for:"episodes"},y={for:"end"},E={for:"abandoned"},U={for:"note"},A=(0,t._)("button",null,"Update",-1);function C(a,n,e,l,i,d){return(0,t.wg)(),(0,t.iD)("div",_,[(0,t._)("h2",null,"Editing "+(0,o.zw)(e.manga.title),1),(0,t._)("form",{onSubmit:n[6]||(n[6]=(0,v.iM)(((...a)=>l.handleUpdate&&l.handleUpdate(...a)),["prevent"])),class:"manga-form-content"},[(0,t._)("label",M,[(0,t.Uk)("Manga title "),(0,t.wy)((0,t._)("input",{name:"title",id:"title",type:"text",placeholder:"title...","onUpdate:modelValue":n[0]||(n[0]=a=>l.currentManga.title=a)},null,512),[[v.nr,l.currentManga.title]])]),(0,t._)("label",f,[(0,t.Uk)("Manga author "),(0,t.wy)((0,t._)("input",{name:"author",id:"author",type:"text",placeholder:"author...","onUpdate:modelValue":n[1]||(n[1]=a=>l.currentManga.author=a)},null,512),[[v.nr,l.currentManga.author]])]),(0,t._)("label",k,[(0,t.Uk)("Manga episodes "),(0,t.wy)((0,t._)("input",{name:"episodes",id:"episodes",type:"text",placeholder:"ep...","onUpdate:modelValue":n[2]||(n[2]=a=>l.currentManga.own=a)},null,512),[[v.nr,l.currentManga.own]])]),(0,t._)("label",y,[(0,t.Uk)("Is it end? "),(0,t.wy)((0,t._)("input",{name:"end",id:"end",type:"checkbox","onUpdate:modelValue":n[3]||(n[3]=a=>l.currentManga.isEnd=a)},null,512),[[v.e8,l.currentManga.isEnd]])]),(0,t._)("label",E,[(0,t.Uk)("Won't keep buying "),(0,t.wy)((0,t._)("input",{name:"abandoned",id:"abandoned",type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=a=>l.currentManga.isAbandoned=a)},null,512),[[v.e8,l.currentManga.isAbandoned]])]),(0,t._)("label",U,[(0,t.Uk)("Any note: "),(0,t.wy)((0,t._)("textarea",{name:"note",cols:"40",rows:"5","onUpdate:modelValue":n[5]||(n[5]=a=>l.currentManga.note=a)},null,512),[[v.nr,l.currentManga.note]])]),A],32)])}var F={props:["manga"],setup(a,{emit:n}){const e=(0,w.b)(),t=(0,b.iH)({title:a.manga.title,author:a.manga.author,own:a.manga.own,isEnd:a.manga.isEnd,isAbandoned:a.manga.isAbandoned,note:a.manga.note});console.log(a.manga,"yes");const o=()=>{t.value&&e.editManga(a.manga.id,t.value),console.log("finished edit"),t.value={title:a.manga.title,author:a.manga.author,own:a.manga.own,isEnd:a.manga.isEnd,isAbandoned:a.manga.isAbandoned,note:a.manga.note},e.getMangas(),n("close-form")};return{handleUpdate:o,currentManga:t}}},x=e(89);const z=(0,x.Z)(F,[["render",C]]);var L=z,V={props:["manga"],components:{MangaEditForm:L},setup(a){const n=(0,w.b)(),e=(0,b.iH)(!1),t=function(){e.value=!0},o=()=>{e.value=!1},l=()=>{n.deleteManga(a.manga.id),n.getMangas()},i=(0,b.iH)("");return a.manga.isEnd&&a.manga.isAbandoned?i.value="Finished, and won't collect anymore":a.manga.isEnd&&!a.manga.isAbandoned?i.value="Finished, and will keep collecting":!a.manga.isEnd&&a.manga.isAbandoned?i.value="To be continued, but won't collect anymore":a.manga.isEnd||a.manga.isAbandoned||(i.value="To be continued, will keep collecting"),{mangaStore:n,isEditting:e,handleEdit:t,handleCloseForm:o,update:i,deleteManga:l}}};const Z=(0,x.Z)(V,[["render",h]]);var D=Z}}]);
//# sourceMappingURL=431.b83e8c06.js.map