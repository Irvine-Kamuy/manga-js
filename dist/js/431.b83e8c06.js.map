{"version":3,"file":"js/431.b83e8c06.js","mappings":"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","sources":["webpack://manga-js/./src/views/Manga.vue","webpack://manga-js/./src/views/Manga.vue?e36e","webpack://manga-js/./src/views/MangaList.vue","webpack://manga-js/./src/components/Manga/MangaEditForm.vue","webpack://manga-js/./src/components/Manga/MangaEditForm.vue?16bb","webpack://manga-js/./src/views/MangaList.vue?a36e"],"sourcesContent":["<template>\n    <div class=\"single-manga\">\n      <h1>Search Result</h1>\n      <!-- loading -->\n      <div class=\"loading\" v-if=\"isLoading\">Loading manga...</div>\n\n      <!-- manga -->\n      <div id=\"aManga\">\n        <div>\n          <MangaList :manga=\"manga\" />\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { defineComponent, onMounted } from 'vue';\n  import { storeToRefs } from 'pinia';\n  import { useMangaStore } from '../stores/MangaStore'\n  import { useRoute } from 'vue-router';\n\n  // components\n  import MangaList from './MangaList.vue'\n  \n  // import {doc, getDoc} from 'firebase/firestore'\n  // import { db } from '@/firebase';\n\n\n  export default defineComponent({\n    components: { MangaList },\n    setup() {\n      const mangaStore = useMangaStore()\n\n      const { mangas, manga, isLoading } = storeToRefs(mangaStore)\n      const route = useRoute()\n      const id = route.params.id\n      // const mm = ref({})\n      console.log(id, manga.value, '123');\n\n      // const test = async () => {\n      //   const docRef = doc(db, 'mangas', id)\n      //   const docc = await getDoc(docRef)\n      //   mm.value = docc.data()\n      //   console.log(mm.value, '12');\n      // }\n      // test()\n\n\n      onMounted(async () => {\n        try {\n          await mangaStore.getMangas()\n          await mangaStore.getManga(id)\n        } catch (err) {\n          console.error('Error fetching manga:', err)\n        }\n      }) \n\n      //why mangas re-render after editting but manga doesn't\n\n      return { manga, isLoading }\n    }\n  });\n  </script>","import { render } from \"./Manga.vue?vue&type=template&id=185872d2\"\nimport script from \"./Manga.vue?vue&type=script&lang=js\"\nexport * from \"./Manga.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"manga\">\n    <h3 ref=\"m-title\">{{ manga.title }}</h3>\n    <div class=\"manga-details\">\n      <p id=\"manga-author\">{{ manga.author }}</p>\n      <div class=\"manga-ep\">\n          <span>Episodes: &ensp;</span><p>{{ manga.own }}&ensp; </p>\n      </div>\n      <p id=\"manga-update\">{{ update }}</p>\n      <p id=\"manga-note\"><span>Note: </span>{{ manga.note ? manga.note : 'none' }}</p>\n    </div>\n    <div class=\"icons\">\n      <div \n        class=\"edit material-icons\"\n        @click=\"handleEdit\"\n      >edit</div>\n      <div \n        class=\"delete material-icons\"\n        @click=\"deleteManga\"\n      >delete</div>\n    </div>\n    <div class=\"edit-form\" v-if=\"isEditting\">\n      <MangaEditForm :manga=\"manga\" @close-form=\"handleCloseForm\" />\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { ref } from 'vue';\nimport { useMangaStore } from '../stores/MangaStore';\nimport MangaEditForm from '../components/Manga/MangaEditForm.vue';\n\nexport default {\n    props: ['manga'], \n    components: { MangaEditForm },\n    setup(props) {\n        const mangaStore = useMangaStore()\n        const isEditting = ref(false)\n        \n        const handleEdit= function() {\n            isEditting.value = true\n        }\n        const handleCloseForm = () => {\n          isEditting.value = false\n        }\n        const deleteManga = () => {\n          mangaStore.deleteManga(props.manga.id)\n          mangaStore.getMangas()\n        }\n        const update = ref('')\n        if(props.manga.isEnd && props.manga.isAbandoned) {\n          update.value = 'Finished, and won\\'t collect anymore'\n        } else if (props.manga.isEnd && !props.manga.isAbandoned) {\n          update.value = 'Finished, and will keep collecting'\n        } else if (!props.manga.isEnd && props.manga.isAbandoned) {\n          update.value = 'To be continued, but won\\'t collect anymore'\n        } else if (!props.manga.isEnd && !props.manga.isAbandoned) {\n          update.value = 'To be continued, will keep collecting'\n        }\n\n        // console.log(props.manga, '112qwer');\n\n        return { mangaStore, isEditting, handleEdit, handleCloseForm, update, deleteManga }\n    }\n}\n</script>\n\n<style>\n\n</style>","<template>\n    <div class=\"manga-edit-form\">\n        <h2>Editing {{ manga.title }}</h2>\n        <form @submit.prevent=\"handleUpdate\" class=\"manga-form-content\">\n            <label for=\"title\">Manga title\n                <input \n                    name=\"title\"\n                    id=\"title\"\n                    type=\"text\"\n                    placeholder=\"title...\"\n                    v-model=\"currentManga.title\"\n                >\n            </label>\n            <label for=\"author\">Manga author\n                <input \n                    name=\"author\"\n                    id=\"author\"\n                    type=\"text\"\n                    placeholder=\"author...\"\n                    v-model=\"currentManga.author\"\n                >\n            </label>\n\n            <label for=\"episodes\">Manga episodes\n                <input \n                    name=\"episodes\"\n                    id=\"episodes\"\n                    type=\"text\"\n                    placeholder=\"ep...\"\n                    v-model=\"currentManga.own\"\n                >\n            </label>\n            \n            <label for=\"end\">Is it end?\n                <input \n                    name=\"end\"\n                    id=\"end\"\n                    type=\"checkbox\"\n                    v-model=\"currentManga.isEnd\"\n                >\n            </label>\n           \n            <label for=\"abandoned\">Won't keep buying\n                <input \n                    name=\"abandoned\"\n                    id=\"abandoned\"\n                    type=\"checkbox\"\n                    v-model=\"currentManga.isAbandoned\"\n                >\n            </label>\n            <label for=\"note\">Any note:\n                <textarea\n                name=\"note\"\n                cols=\"40\"\n                rows=\"5\"\n                v-model=\"currentManga.note\"\n                ></textarea>\n            </label>\n\n\n            <button>Update</button>\n        </form>\n    </div>\n</template>\n\n<script>\nimport { ref, defineEmits } from 'vue';\nimport { useMangaStore } from '../../stores/MangaStore';\n\nexport default {\n    props: [ 'manga' ],\n    setup(props, { emit }) {\n        const mangaStore = useMangaStore()\n        const currentManga = ref({\n            title: props.manga.title,\n            author: props.manga.author,\n            own: props.manga.own, \n            isEnd: props.manga.isEnd, \n            isAbandoned: props.manga.isAbandoned,\n            note: props.manga.note,\n        })\n        console.log(props.manga, 'yes');\n\n        const handleUpdate = () => {\n            if (currentManga.value) {\n                mangaStore.editManga(props.manga.id, currentManga.value)\n            }\n            console.log('finished edit');\n            currentManga.value = {\n                    title: props.manga.title,\n                    author: props.manga.author,\n                    own: props.manga.own, \n                    isEnd: props.manga.isEnd, \n                    isAbandoned: props.manga.isAbandoned,\n                    note: props.manga.note,\n            }\n            mangaStore.getMangas()\n            emit('close-form')\n        }\n\n        return { handleUpdate, currentManga }\n    }\n}\n</script>","import { render } from \"./MangaEditForm.vue?vue&type=template&id=b1444be4\"\nimport script from \"./MangaEditForm.vue?vue&type=script&lang=js\"\nexport * from \"./MangaEditForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MangaList.vue?vue&type=template&id=07c8ca03\"\nimport script from \"./MangaList.vue?vue&type=script&lang=js\"\nexport * from \"./MangaList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","key","id","_createElementBlock","_hoisted_1","_hoisted_2","_ctx","isLoading","_hoisted_3","_createCommentVNode","_hoisted_4","_createVNode","_component_MangaList","manga","defineComponent","components","MangaList","setup","mangaStore","useMangaStore","mangas","storeToRefs","route","useRoute","params","console","log","value","onMounted","async","getMangas","getManga","err","error","__exports__","render","ref","_toDisplayString","$props","title","author","_hoisted_5","own","_hoisted_6","$setup","update","_hoisted_7","_hoisted_8","_createTextVNode","note","_hoisted_9","onClick","_cache","args","handleEdit","deleteManga","isEditting","_hoisted_10","_component_MangaEditForm","onCloseForm","handleCloseForm","for","onSubmit","_withModifiers","handleUpdate","name","type","placeholder","$event","currentManga","isEnd","isAbandoned","cols","rows","props","emit","editManga","MangaEditForm"],"sourceRoot":""}