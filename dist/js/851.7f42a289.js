"use strict";(self["webpackChunkmanga_js"]=self["webpackChunkmanga_js"]||[]).push([[851],{2144:function(n,a,e){e.d(a,{Z:function(){return r}});var t=e(3396);const o={class:"scroll"};function l(n,a,e,l,i,d){return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("button",{id:"scroll-up",class:"material-icons",onClick:a[0]||(a[0]=(...n)=>l.toTop&&l.toTop(...n))},"keyboard_double_arrow_up"),(0,t._)("button",{id:"scroll-down",class:"material-icons",onClick:a[1]||(a[1]=(...n)=>l.toBottom&&l.toBottom(...n))},"keyboard_double_arrow_down")])}var i={setup(){const n=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};return{toTop:n,toBottom:a}}},d=e(89);const s=(0,d.Z)(i,[["render",l]]);var r=s},3851:function(n,a,e){e.r(a),e.d(a,{default:function(){return j}});var t=e(3396),o=e(7139);const l={class:"collection"},i=(0,t._)("h1",null,"Collection",-1),d={class:"scroll"},s={class:"filter"},r={key:0,class:"loading"},u={key:1,class:"manga-list"},g={key:2,class:"manga-list"},c={key:3,class:"manga-list"},m={key:4,class:"manga-list"},p={class:"new-manga-form"};function w(n,a,e,w,h,b){const _=(0,t.up)("ScrollToBottom"),v=(0,t.up)("Search"),k=(0,t.up)("MangaList"),M=(0,t.up)("MangaAddForm");return(0,t.wg)(),(0,t.iD)("div",l,[i,(0,t._)("div",d,[(0,t.Wm)(_)]),(0,t.Wm)(v,{mangas:n.mangas},null,8,["mangas"]),(0,t._)("nav",s,[(0,t._)("button",{onClick:a[0]||(a[0]=a=>n.filter="all")},"All mangas"),(0,t._)("button",{onClick:a[1]||(a[1]=a=>n.filter="updating")},"Updating"),(0,t._)("button",{onClick:a[2]||(a[2]=a=>n.filter="end")},"End"),(0,t._)("button",{onClick:a[3]||(a[3]=a=>n.filter="abandoned")},"Abandonned")]),n.isLoading?((0,t.wg)(),(0,t.iD)("div",r,"Loading mangas...")):(0,t.kq)("",!0),"all"===n.filter?((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("p",null,(0,o.zw)(n.totalCount)+" mangas in the collection",1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.mangas,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.id},[(0,t.Wm)(k,{manga:n},null,8,["manga"])])))),128))])):(0,t.kq)("",!0),"updating"===n.filter?((0,t.wg)(),(0,t.iD)("div",g,[(0,t._)("p",null,(0,o.zw)(n.updatingCount)+" mangas in the collection are still updating",1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.updating,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.id},[(0,t.Wm)(k,{manga:n},null,8,["manga"])])))),128))])):(0,t.kq)("",!0),"end"===n.filter?((0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("p",null,(0,o.zw)(n.endCount)+" mangas in the collection are end",1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.end,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.id},[(0,t.Wm)(k,{manga:n},null,8,["manga"])])))),128))])):(0,t.kq)("",!0),"abandoned"===n.filter?((0,t.wg)(),(0,t.iD)("div",m,[(0,t._)("p",null,(0,o.zw)(n.abandonedCount)+" mangas in the collection that I won't keep on purchasing",1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.abandoned,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.id},[(0,t.Wm)(k,{manga:n},null,8,["manga"])])))),128))])):(0,t.kq)("",!0),(0,t._)("div",p,[(0,t.Wm)(M)])])}var h=e(4870),b=e(1020),_=e(1231),v=(e(4287),e(2239),e(8043)),k=e(9242);const M={class:"manga-form"},f={for:"title"},y={for:"author"},U={for:"episodes"},C={for:"end"},A={for:"abandoned"},E={for:"note"},D=(0,t._)("button",null,"Add manga",-1);function H(n,a,e,o,l,i){return(0,t.wg)(),(0,t.iD)("div",M,[(0,t._)("h2",{onClick:a[0]||(a[0]=(...n)=>o.toggleAdding&&o.toggleAdding(...n))},"Add manga to collection"),o.isAdding?((0,t.wg)(),(0,t.iD)("form",{key:0,onSubmit:a[7]||(a[7]=(0,k.iM)(((...n)=>o.handleSubmit&&o.handleSubmit(...n)),["prevent"])),class:"manga-form-content"},[(0,t._)("label",f,[(0,t.Uk)("Manga title "),(0,t.wy)((0,t._)("input",{name:"title",id:"title",type:"text",placeholder:"title...","onUpdate:modelValue":a[1]||(a[1]=n=>o.newManga.title=n)},null,512),[[k.nr,o.newManga.title]])]),(0,t._)("label",y,[(0,t.Uk)("Manga author "),(0,t.wy)((0,t._)("input",{name:"author",id:"author",type:"text",placeholder:"author...","onUpdate:modelValue":a[2]||(a[2]=n=>o.newManga.author=n)},null,512),[[k.nr,o.newManga.author]])]),(0,t._)("label",U,[(0,t.Uk)("Manga episodes "),(0,t.wy)((0,t._)("input",{name:"episodes",id:"episodes",type:"text",placeholder:"ep...","onUpdate:modelValue":a[3]||(a[3]=n=>o.newManga.own=n)},null,512),[[k.nr,o.newManga.own]])]),(0,t._)("label",C,[(0,t.Uk)("Is it end? "),(0,t.wy)((0,t._)("input",{name:"end",id:"end",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=n=>o.newManga.isEnd=n)},null,512),[[k.e8,o.newManga.isEnd]])]),(0,t._)("label",A,[(0,t.Uk)("Won't keep buying "),(0,t.wy)((0,t._)("input",{name:"abandoned",id:"abandoned",type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=n=>o.newManga.isAbandoned=n)},null,512),[[k.e8,o.newManga.isAbandoned]])]),(0,t._)("label",E,[(0,t.Uk)("Any note: "),(0,t.wy)((0,t._)("textarea",{name:"note",cols:"70",rows:"5",placeholder:"ehh...","onUpdate:modelValue":a[6]||(a[6]=n=>o.newManga.note=n)},null,512),[[k.nr,o.newManga.note]])]),D],32)):(0,t.kq)("",!0)])}var x={setup(){const n=(0,_.b)(),a=(0,h.iH)({title:"",author:"",own:"",isEnd:null,isAbandoned:null,note:""}),e=(0,h.iH)(!1),t=()=>{e.value=!e.value},o=()=>{a.value.title&&n.addManga(a.value),a.value={title:"",author:"",own:"",isEnd:null,isAbandoned:null,note:""},n.getMangas(),e.value=!1};return{newManga:a,handleSubmit:o,isAdding:e,toggleAdding:t}}},V=e(89);const z=(0,V.Z)(x,[["render",H]]);var F=z,Z=e(2144);const S={class:"search"},W={class:"search-result"};function T(n,a,e,l,i,d){const s=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",S,[(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>l.search=n),placeholder:"search the manga here..."},null,512),[[k.nr,l.search]]),(0,t._)("ul",null,[l.search?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(l.searchManga,(n=>((0,t.wg)(),(0,t.j4)(s,{key:n,to:{name:"single manga",params:{id:n.id}}},{default:(0,t.w5)((()=>[(0,t._)("li",W,(0,o.zw)(n.title),1)])),_:2},1032,["to"])))),128)):(0,t.kq)("",!0)])])}var q={props:["mangas"],setup(n){const a=(0,h.iH)(""),e=(0,h.iH)([]);console.log(n.mangas,"test"),(0,t.m0)((()=>{e.value=n.mangas.map((n=>({title:n.title,id:n.id})))}));const o=(0,t.Fl)((()=>e.value.filter((n=>n.title.toLowerCase().includes(a.value)))));return(0,t.YP)(a,(()=>{console.log(o)})),{search:a,searchManga:o}}};const L=(0,V.Z)(q,[["render",T]]);var Y=L,B=(0,t.aZ)({name:"Collection",components:{MangaList:v.Z,MangaAddForm:F,ScrollToBottom:Z.Z,Search:Y},setup(){const n=(0,_.b)(),{mangas:a,isLoading:e,totalCount:t,updating:o,updatingCount:l,end:i,endCount:d,abandoned:s,abandonedCount:r}=(0,b.Jk)(n);n.getMangas();const u=(0,h.iH)("all");return{mangas:a,isLoading:e,totalCount:t,updating:o,updatingCount:l,end:i,endCount:d,abandoned:s,abandonedCount:r,filter:u}}});const K=(0,V.Z)(B,[["render",w]]);var j=K},8043:function(n,a,e){e.d(a,{Z:function(){return Z}});var t=e(3396),o=e(7139);const l={class:"manga"},i={class:"manga-details"},d={id:"manga-author"},s={class:"manga-ep"},r=(0,t._)("span",null,"Episodes:  ",-1),u={id:"manga-update"},g={id:"manga-note"},c=(0,t._)("span",null,"Note: ",-1),m={class:"icons"},p={key:0,class:"edit-form"};function w(n,a,e,w,h,b){const _=(0,t.up)("MangaEditForm");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("h3",{ref:"m-title"},(0,o.zw)(e.manga.title),513),(0,t._)("div",i,[(0,t._)("p",d,(0,o.zw)(e.manga.author),1),(0,t._)("div",s,[r,(0,t._)("p",null,(0,o.zw)(e.manga.own)+"  ",1)]),(0,t._)("p",u,(0,o.zw)(w.update),1),(0,t._)("p",g,[c,(0,t.Uk)((0,o.zw)(e.manga.note?e.manga.note:"none"),1)])]),(0,t._)("div",m,[(0,t._)("div",{class:"edit material-icons",onClick:a[0]||(a[0]=(...n)=>w.handleEdit&&w.handleEdit(...n))},"edit"),(0,t._)("div",{class:"delete material-icons",onClick:a[1]||(a[1]=(...n)=>w.deleteManga&&w.deleteManga(...n))},"delete")]),w.isEditting?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(_,{manga:e.manga,onCloseForm:w.handleCloseForm},null,8,["manga","onCloseForm"])])):(0,t.kq)("",!0)])}var h=e(4870),b=e(1231),_=e(9242);const v={class:"manga-edit-form"},k={for:"title"},M={for:"author"},f={for:"episodes"},y={for:"end"},U={for:"abandoned"},C={for:"note"},A=(0,t._)("button",null,"Update",-1);function E(n,a,e,l,i,d){return(0,t.wg)(),(0,t.iD)("div",v,[(0,t._)("h2",null,"Editing "+(0,o.zw)(e.manga.title),1),(0,t._)("form",{onSubmit:a[6]||(a[6]=(0,_.iM)(((...n)=>l.handleUpdate&&l.handleUpdate(...n)),["prevent"])),class:"manga-form-content"},[(0,t._)("label",k,[(0,t.Uk)("Manga title "),(0,t.wy)((0,t._)("input",{name:"title",id:"title",type:"text",placeholder:"title...","onUpdate:modelValue":a[0]||(a[0]=n=>l.currentManga.title=n)},null,512),[[_.nr,l.currentManga.title]])]),(0,t._)("label",M,[(0,t.Uk)("Manga author "),(0,t.wy)((0,t._)("input",{name:"author",id:"author",type:"text",placeholder:"author...","onUpdate:modelValue":a[1]||(a[1]=n=>l.currentManga.author=n)},null,512),[[_.nr,l.currentManga.author]])]),(0,t._)("label",f,[(0,t.Uk)("Manga episodes "),(0,t.wy)((0,t._)("input",{name:"episodes",id:"episodes",type:"text",placeholder:"ep...","onUpdate:modelValue":a[2]||(a[2]=n=>l.currentManga.own=n)},null,512),[[_.nr,l.currentManga.own]])]),(0,t._)("label",y,[(0,t.Uk)("Is it end? "),(0,t.wy)((0,t._)("input",{name:"end",id:"end",type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=n=>l.currentManga.isEnd=n)},null,512),[[_.e8,l.currentManga.isEnd]])]),(0,t._)("label",U,[(0,t.Uk)("Won't keep buying "),(0,t.wy)((0,t._)("input",{name:"abandoned",id:"abandoned",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=n=>l.currentManga.isAbandoned=n)},null,512),[[_.e8,l.currentManga.isAbandoned]])]),(0,t._)("label",C,[(0,t.Uk)("Any note: "),(0,t.wy)((0,t._)("textarea",{name:"note",cols:"40",rows:"5","onUpdate:modelValue":a[5]||(a[5]=n=>l.currentManga.note=n)},null,512),[[_.nr,l.currentManga.note]])]),A],32)])}var D={props:["manga"],setup(n,{emit:a}){const e=(0,b.b)(),t=(0,h.iH)({title:n.manga.title,author:n.manga.author,own:n.manga.own,isEnd:n.manga.isEnd,isAbandoned:n.manga.isAbandoned,note:n.manga.note});console.log(n.manga,"yes");const o=()=>{t.value&&e.editManga(n.manga.id,t.value),console.log("finished edit"),t.value={title:n.manga.title,author:n.manga.author,own:n.manga.own,isEnd:n.manga.isEnd,isAbandoned:n.manga.isAbandoned,note:n.manga.note},e.getMangas(),a("close-form")};return{handleUpdate:o,currentManga:t}}},H=e(89);const x=(0,H.Z)(D,[["render",E]]);var V=x,z={props:["manga"],components:{MangaEditForm:V},setup(n){const a=(0,b.b)(),e=(0,h.iH)(!1),t=function(){e.value=!0},o=()=>{e.value=!1},l=()=>{a.deleteManga(n.manga.id),a.getMangas()},i=(0,h.iH)("");return n.manga.isEnd&&n.manga.isAbandoned?i.value="Finished, and won't collect anymore":n.manga.isEnd&&!n.manga.isAbandoned?i.value="Finished, and will keep collecting":!n.manga.isEnd&&n.manga.isAbandoned?i.value="To be continued, but won't collect anymore":n.manga.isEnd||n.manga.isAbandoned||(i.value="To be continued, will keep collecting"),{mangaStore:a,isEditting:e,handleEdit:t,handleCloseForm:o,update:i,deleteManga:l}}};const F=(0,H.Z)(z,[["render",w]]);var Z=F}}]);
//# sourceMappingURL=851.7f42a289.js.map