(function(){"use strict";var n={2239:function(n,t,e){e.d(t,{VJ:function(){return u},db:function(){return s},fe:function(){return c}});var a=e(7795),o=e(4287);const i={apiKey:"AIzaSyAPh25nVCZeG4c1BjoPYj_usMxldG2gId8",authDomain:"manga-62981.firebaseapp.com",projectId:"manga-62981",storageBucket:"manga-62981.appspot.com",messagingSenderId:"89107114266",appId:"1:89107114266:web:8f5c737beb733af8a324a3"},r=(0,a.ZF)(i),s=(0,o.ad)(r),c=(0,o.hJ)(s,"mangas"),u=(0,o.hJ)(s,"blogs")},5565:function(n,t,e){var a=e(9242),o=e(3396);const i={class:"navbar"},r={class:"nav-home"},s=(0,o._)("span",null,"||",-1),c=(0,o._)("span",null,"||",-1);function u(n,t){const e=(0,o.up)("router-link"),a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",i,[(0,o._)("div",r,[(0,o.Wm)(e,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1})]),(0,o.Wm)(e,{to:{name:"collection"}},{default:(0,o.w5)((()=>[(0,o.Uk)("Collection")])),_:1}),s,(0,o.Wm)(e,{to:{name:"blog"}},{default:(0,o.w5)((()=>[(0,o.Uk)("Blog")])),_:1}),c,(0,o.Wm)(e,{to:{name:"search"}},{default:(0,o.w5)((()=>[(0,o.Uk)("Search")])),_:1})]),(0,o.Wm)(a)],64)}var d=e(89);const l={},g=(0,d.Z)(l,[["render",u]]);var m=g,f=e(2483),h=e(7139);const p={class:"home"},b=(0,o._)("h1",null,"Random Recommendation",-1),v={class:"rec"},y={class:"rec-left"},w=["href"],_=["src"],k={class:"rec-right"},T={class:"genres"};function j(n,t,e,a,i,r){return(0,o.wg)(),(0,o.iD)("div",p,[b,(0,o._)("div",v,[(0,o._)("div",y,[(0,o._)("a",{href:n.rec.url},[(0,o._)("img",{src:n.rec.img},null,8,_)],8,w)]),(0,o._)("div",k,[(0,o._)("h3",null,[(0,o.Uk)((0,h.zw)(n.rec.title)+" ",1),(0,o._)("span",null,(0,h.zw)(n.rec.titleJp),1)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.rec.authors,(n=>((0,o.wg)(),(0,o.iD)("p",{key:n.mal_id,class:"rec-authors"},(0,h.zw)(n.name),1)))),128)),(0,o._)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.rec.genres,(n=>((0,o.wg)(),(0,o.iD)("p",{key:n.mal_id},(0,h.zw)(n.name),1)))),128))]),(0,o._)("p",null,"background story: "+(0,h.zw)(n.rec.bgStory?n.rec.bgStory:"no background story is found"),1)])])])}var P=e(1020),E=e(1231),O=(0,o.aZ)({name:"HomeView",setup(){const n=(0,E.b)();n.getHomePageImg();const{rec:t}=(0,P.Jk)(n);return{rec:t}}});const J=(0,d.Z)(O,[["render",j]]);var L=J;const A=[{path:"/",name:"home",component:L},{path:"/collection",name:"collection",component:()=>e.e(851).then(e.bind(e,3851))},{path:"/blog",name:"blog",component:()=>e.e(376).then(e.bind(e,376))},{path:"/search",name:"search",component:()=>e.e(66).then(e.bind(e,2066))},{path:"/manga/:id",name:"single manga",component:()=>e.e(431).then(e.bind(e,5431))}],C=(0,f.p7)({history:(0,f.PO)("/"),routes:A});var S=C;(0,a.ri)(m).use(S).use((0,P.WB)()).mount("#app")},1231:function(n,t,e){e.d(t,{b:function(){return s}});var a=e(1020),o=e(2239),i=e(4287),r=e(3029);const s=(0,a.Q_)("mangaStore",{state:()=>({mangas:[],manga:{},isLoading:!1,rec:[{img:[],url:[],title:[],titleJp:[],authors:[],genres:[],bgStory:[]}],posts:[],tags:[],mangasFromApi:[]}),getters:{totalCount:n=>n.mangas.length,updating(){return this.mangas.filter((n=>!n.isEnd))},updatingCount(){return this.mangas.reduce(((n,t)=>t.isEnd?n:n+1),0)},end(){return this.mangas.filter((n=>n.isEnd))},endCount(){return this.mangas.reduce(((n,t)=>t.isEnd?n+1:n),0)},abandoned(){return this.mangas.filter((n=>n.isAbandoned))},abandonedCount(){return this.mangas.reduce(((n,t)=>t.isAbandoned?n+1:n),0)}},actions:{async getMangas(){this.isLoading=!0;try{const n=await(0,i.PL)(o.fe);this.mangas=n.docs.map((n=>({...n.data(),id:n.id}))),console.log(n.docs)}catch(n){console.log(n.message)}this.isLoading=!1},async addManga(n){await(0,i.ET)(o.fe,{id:(0,r.Z)(),title:n.title,author:n.author,own:n.own,isEnd:n.isEnd,isAbandoned:n.isAbandoned,note:n.note})},async deleteManga(n){await(0,i.oe)((0,i.JU)(o.db,"mangas",n))},async editManga(n,t){const e=(0,i.JU)(o.db,"mangas",n);await(0,i.r7)(e,{title:t.title,author:t.author,own:t.own,isEnd:t.isEnd,isAbandoned:t.isAbandoned,note:t.note})},async getManga(n){this.isLoading=!0;const t=(0,i.JU)(o.db,"mangas",n),e=await(0,i.QT)(t);this.manga=e.data(),this.isLoading=!1},async getHomePageImg(){try{this.isLoading=!0;const n=await fetch("https://api.jikan.moe/v4/random/manga"),t=await n.json();this.rec={img:t.data.images.webp.large_image_url,url:t.data.url,title:t.data.title,titleJp:t.data.title_japanese,authors:t.data.authors,genres:t.data.genres,bgStory:t.data.background},this.isLoading=!1}catch(n){console.log(n)}},async getPosts(){this.isLoading=!0;try{const n=await(0,i.PL)(o.VJ);this.posts=n.docs.map((n=>({...n.data(),id:n.id})))}catch(n){console.log(n.message)}this.isLoading=!1},async addPost(n){await(0,i.ET)(o.VJ,{id:(0,r.Z)(),mangaTitle:n.mangaTitle,commentTitle:n.commentTitle,content:n.content,tags:n.tags})},async deletePost(n){await(0,i.oe)((0,i.JU)(o.db,"blogs",n))},async editPost(n,t){const e=(0,i.JU)(o.db,"blogs",n);await(0,i.r7)(e,{mangaTitle:t.mangaTitle,commentTitle:t.commentTitle,content:t.content,tags:t.tags})},async getTag(n){this.isLoading=!0,this.isLoading=!1},async addTag(n,t){const e=this.posts.find((t=>t.id===n));e.mangaTitle=t.mangaTitle,e.commentTitle=t.commentTitle,e.content=t.content,e.tags=t.tags;const a=await fetch("http://localhost:3000/blogs/"+n,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});a.error&&console.log(a.error)}}})}},t={};function e(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return n[a].call(i.exports,i,i.exports,e),i.exports}e.m=n,function(){var n=[];e.O=function(t,a,o,i){if(!a){var r=1/0;for(d=0;d<n.length;d++){a=n[d][0],o=n[d][1],i=n[d][2];for(var s=!0,c=0;c<a.length;c++)(!1&i||r>=i)&&Object.keys(e.O).every((function(n){return e.O[n](a[c])}))?a.splice(c--,1):(s=!1,i<r&&(r=i));if(s){n.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=n.length;d>0&&n[d-1][2]>i;d--)n[d]=n[d-1];n[d]=[a,o,i]}}(),function(){e.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(t,{a:t}),t}}(),function(){e.d=function(n,t){for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})}}(),function(){e.f={},e.e=function(n){return Promise.all(Object.keys(e.f).reduce((function(t,a){return e.f[a](n,t),t}),[]))}}(),function(){e.u=function(n){return"js/"+n+"."+{66:"3b859f60",376:"57ac23bd",431:"b83e8c06",851:"7f42a289"}[n]+".js"}}(),function(){e.miniCssF=function(n){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)}}(),function(){var n={},t="manga-js:";e.l=function(a,o,i,r){if(n[a])n[a].push(o);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==t+i){s=l;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,e.nc&&s.setAttribute("nonce",e.nc),s.setAttribute("data-webpack",t+i),s.src=a),n[a]=[o];var g=function(t,e){s.onerror=s.onload=null,clearTimeout(m);var o=n[a];if(delete n[a],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(n){return n(e)})),t)return t(e)},m=setTimeout(g.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=g.bind(null,s.onerror),s.onload=g.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){e.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var n={143:0};e.f.j=function(t,a){var o=e.o(n,t)?n[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((function(e,a){o=n[t]=[e,a]}));a.push(o[2]=i);var r=e.p+e.u(t),s=new Error,c=function(a){if(e.o(n,t)&&(o=n[t],0!==o&&(n[t]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,o[1](s)}};e.l(r,c,"chunk-"+t,t)}},e.O.j=function(t){return 0===n[t]};var t=function(t,a){var o,i,r=a[0],s=a[1],c=a[2],u=0;if(r.some((function(t){return 0!==n[t]}))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(c)var d=c(e)}for(t&&t(a);u<r.length;u++)i=r[u],e.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return e.O(d)},a=self["webpackChunkmanga_js"]=self["webpackChunkmanga_js"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(5565)}));a=e.O(a)})();
//# sourceMappingURL=app.329a4233.js.map